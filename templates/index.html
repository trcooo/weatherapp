<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Weather — Modern</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/styles.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <meta name="theme-color" content="#3BA7FF" />
</head>
<body>
  <div class="bg">
    <div class="blob blob--a"></div>
    <div class="blob blob--b"></div>
    <div class="blob blob--c"></div>
  </div>

  <main class="app" aria-live="polite">
    <header class="topbar">
      <div class="brand">
        <div class="brand__logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 15.5C4.79086 15.5 3 13.7091 3 11.5C3 9.79086 4.07669 8.33663 5.58999 7.78024C6.06336 5.46673 8.10762 3.75 10.5625 3.75C13.2706 3.75 15.4805 5.83661 15.6758 8.49444C17.9758 8.81928 19.75 10.794 19.75 13.1875C19.75 15.8073 17.6198 17.9375 15 17.9375H7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
            <path d="M13.5 13.25C13.5 11.5931 14.8431 10.25 16.5 10.25C18.1569 10.25 19.5 11.5931 19.5 13.25" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </div>
        <div>
          <div class="brand__title">Weather</div>
          <div class="brand__subtitle">современный прогноз</div>
        </div>
      </div>

      <form id="searchForm" class="search" autocomplete="off">
        <div class="search__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M16.5 16.5L21 21" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </div>
        <input id="cityInput" class="search__input" type="text" placeholder="Город…" aria-label="Город" />
        <button class="search__btn" type="submit">Показать</button>
      </form>
    </header>

    <section class="grid">
      <section class="card hero" id="heroCard">
        <div class="hero__head">
          <div>
            <div class="kicker">Сейчас</div>
            <h1 class="hero__title" id="place">—</h1>
            <div class="hero__desc" id="desc">—</div>
          </div>
          <div class="hero__icon" id="iconWrap" aria-hidden="true"></div>
        </div>

        <div class="hero__temp">
          <div class="temp" id="temp">—</div>
          <div class="temp__meta">
            <div id="feels">—</div>
            <div class="badge" id="updated">—</div>
          </div>
        </div>

        <div class="stats">
          <div class="stat">
            <div class="stat__label">Влажность</div>
            <div class="stat__value" id="humidity">—</div>
          </div>
          <div class="stat">
            <div class="stat__label">Ветер</div>
            <div class="stat__value" id="wind">—</div>
          </div>
          <div class="stat">
            <div class="stat__label">Давление</div>
            <div class="stat__value" id="pressure">—</div>
          </div>
          <div class="stat">
            <div class="stat__label">Облачность</div>
            <div class="stat__value" id="clouds">—</div>
          </div>
        </div>

        <div class="sun">
          <div class="sun__item">
            <div class="sun__label">Восход</div>
            <div class="sun__value" id="sunrise">—</div>
          </div>
          <div class="sun__divider" aria-hidden="true"></div>
          <div class="sun__item">
            <div class="sun__label">Закат</div>
            <div class="sun__value" id="sunset">—</div>
          </div>
        </div>

        <div class="error" id="error" hidden></div>
      </section>

      <section class="card" aria-label="Прогноз">
        <div class="card__head">
          <div>
            <div class="kicker">Дальше</div>
            <h2 class="card__title">Прогноз на ~48 часов</h2>
          </div>
          <div class="chip" id="unitsChip">—</div>
        </div>

        <div class="forecast" id="forecast">
          <div class="forecast__empty" id="forecastEmpty">Введите город, чтобы увидеть прогноз</div>
        </div>
      </section>

      <section class="card map" aria-label="Карта">
        <div class="card__head">
          <div>
            <div class="kicker">Карта</div>
            <h2 class="card__title">Местоположение</h2>
          </div>
          <a class="chip chip--link" id="mapLink" href="#" target="_blank" rel="noreferrer">Открыть</a>
        </div>

        <div id="map" class="map__canvas" role="application" aria-label="Карта города"></div>
        <div class="map__meta muted" id="mapMeta">—</div>
      </section>
      <section class="card tips" aria-label="Подсказки">
        <h2 class="card__title">Быстрые подсказки</h2>
        <div class="tips__grid">
          <button class="pill" data-city="Москва">Москва</button>
          <button class="pill" data-city="Санкт-Петербург">Санкт‑Петербург</button>
          <button class="pill" data-city="Казань">Казань</button>
          <button class="pill" data-city="Новосибирск">Новосибирск</button>
          <button class="pill" data-city="Екатеринбург">Екатеринбург</button>
          <button class="pill" data-city="Сочи">Сочи</button>
        </div>
        <p class="muted">
          Данные: OpenWeather. Время восхода/заката отображается в UTC (как приходит из API).
        </p>
      </section>

      <footer class="footer">
        <div>© <span id="year"></span> Weather</div>
        <a class="footer__link" href="/api/health" target="_blank" rel="noreferrer">healthcheck</a>
      </footer>
    </section>
  </main>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="" defer></script>
  <script src="/static/js/app.js" defer></script>
</body>
</html>
